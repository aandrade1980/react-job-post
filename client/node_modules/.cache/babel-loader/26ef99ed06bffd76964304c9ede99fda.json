{"ast":null,"code":"import _slicedToArray from \"/Users/alvaro.andrade/Documents/react-job-post/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/alvaro.andrade/Documents/react-job-post/client/src/components/JobPostList.js\";\nimport React, { useState, useEffect, lazy, Suspense } from 'react'; // import JobItem from './JobItem';\n\nvar JobItem = lazy(function () {\n  return import('./JobItem');\n});\n\nvar JobPostList = function JobPostList() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      jobs = _useState2[0],\n      setJobs = _useState2[1];\n\n  useEffect(function () {\n    fetch('/api/getJobs').then(function (response) {\n      return response.json();\n    }).then(function (jsonResponse) {\n      return setJobs(jsonResponse.data);\n    });\n  }, []);\n\n  var deleteJob = function deleteJob(id) {\n    fetch(\"/api/deleteJob/\".concat(id), {\n      method: 'DELETE'\n    }).then(function (response) {\n      return response.json();\n    }).then(function (response) {\n      return removeJobById(response.id);\n    });\n  };\n\n  var removeJobById = function removeJobById(jobId) {\n    return setJobs(jobs.filter(function (job) {\n      return job._id !== jobId;\n    }));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"jobList-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(Suspense, {\n    fallback: React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, \"Loading...\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, jobs.length && jobs.map(function (job) {\n    return React.createElement(JobItem, {\n      key: job._id,\n      jobId: job._id,\n      title: job.title,\n      description: job.description,\n      imgUrl: job.imgUrl,\n      createdAt: job.createdAt,\n      deleteJob: deleteJob,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    });\n  })));\n};\n\nexport default JobPostList;","map":{"version":3,"sources":["/Users/alvaro.andrade/Documents/react-job-post/client/src/components/JobPostList.js"],"names":["React","useState","useEffect","lazy","Suspense","JobItem","JobPostList","jobs","setJobs","fetch","then","response","json","jsonResponse","data","deleteJob","id","method","removeJobById","jobId","filter","job","_id","length","map","title","description","imgUrl","createdAt"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,IAArC,EAA2CC,QAA3C,QAA2D,OAA3D,C,CAEA;;AAEA,IAAMC,OAAO,GAAGF,IAAI,CAAC;AAAA,SAAM,OAAO,WAAP,CAAN;AAAA,CAAD,CAApB;;AAEA,IAAMG,WAAW,GAAG,SAAdA,WAAc,GAAM;AAAA,kBACAL,QAAQ,CAAC,EAAD,CADR;AAAA;AAAA,MACjBM,IADiB;AAAA,MACXC,OADW;;AAGxBN,EAAAA,SAAS,CAAC,YAAM;AACdO,IAAAA,KAAK,CAAC,cAAD,CAAL,CACGC,IADH,CACQ,UAAAC,QAAQ;AAAA,aAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,KADhB,EAEGF,IAFH,CAEQ,UAAAG,YAAY;AAAA,aAAIL,OAAO,CAACK,YAAY,CAACC,IAAd,CAAX;AAAA,KAFpB;AAGD,GAJQ,EAIN,EAJM,CAAT;;AAMA,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAAAC,EAAE,EAAI;AACtBP,IAAAA,KAAK,0BAAmBO,EAAnB,GAAyB;AAC5BC,MAAAA,MAAM,EAAE;AADoB,KAAzB,CAAL,CAGGP,IAHH,CAGQ,UAAAC,QAAQ;AAAA,aAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,KAHhB,EAIGF,IAJH,CAIQ,UAAAC,QAAQ;AAAA,aAAIO,aAAa,CAACP,QAAQ,CAACK,EAAV,CAAjB;AAAA,KAJhB;AAKD,GAND;;AAQA,MAAME,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,KAAK;AAAA,WAAIX,OAAO,CAACD,IAAI,CAACa,MAAL,CAAY,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,GAAJ,KAAYH,KAAhB;AAAA,KAAf,CAAD,CAAX;AAAA,GAA3B;;AAEA,SACE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,QAAD;AAAU,IAAA,QAAQ,EAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACIZ,IAAI,CAACgB,MAAL,IAAehB,IAAI,CAACiB,GAAL,CAAS,UAAAH,GAAG,EAAI;AAC/B,WACE,oBAAC,OAAD;AACE,MAAA,GAAG,EAAGA,GAAG,CAACC,GADZ;AAEE,MAAA,KAAK,EAAGD,GAAG,CAACC,GAFd;AAGE,MAAA,KAAK,EAAGD,GAAG,CAACI,KAHd;AAIE,MAAA,WAAW,EAAGJ,GAAG,CAACK,WAJpB;AAKE,MAAA,MAAM,EAAGL,GAAG,CAACM,MALf;AAME,MAAA,SAAS,EAAGN,GAAG,CAACO,SANlB;AAOE,MAAA,SAAS,EAAGb,SAPd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAWC,GAZc,CADnB,CADF,CADF;AAoBD,CAvCD;;AAyCA,eAAeT,WAAf","sourcesContent":["import React, { useState, useEffect, lazy, Suspense } from 'react'\n\n// import JobItem from './JobItem';\n\nconst JobItem = lazy(() => import('./JobItem'));\n\nconst JobPostList = () => {\n  const [jobs, setJobs] = useState([]);\n\n  useEffect(() => {\n    fetch('/api/getJobs')\n      .then(response => response.json())\n      .then(jsonResponse => setJobs(jsonResponse.data));\n  }, []);\n\n  const deleteJob = id => {\n    fetch(`/api/deleteJob/${id}`, {\n      method: 'DELETE'\n    })\n      .then(response => response.json())\n      .then(response => removeJobById(response.id));\n  }\n\n  const removeJobById = jobId => setJobs(jobs.filter(job => job._id !== jobId));\n\n  return (\n    <div className=\"jobList-container\">\n      <Suspense fallback={ <div>Loading...</div>}>\n        { jobs.length && jobs.map(job => {\n          return (\n            <JobItem \n              key={ job._id }\n              jobId={ job._id }\n              title={ job.title } \n              description={ job.description } \n              imgUrl={ job.imgUrl }\n              createdAt={ job.createdAt }\n              deleteJob={ deleteJob }\n            />\n            )\n          })\n        }\n      </Suspense>\n    </div>\n  )\n}\n\nexport default JobPostList;\n"]},"metadata":{},"sourceType":"module"}